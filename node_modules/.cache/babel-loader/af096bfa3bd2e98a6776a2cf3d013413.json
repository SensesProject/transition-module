{"remainingRequest":"/Users/francescamorini/projects/transition-module/node_modules/babel-loader/lib/index.js!/Users/francescamorini/projects/transition-module/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/francescamorini/projects/transition-module/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/francescamorini/projects/transition-module/src/components/animatedcursor.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/francescamorini/projects/transition-module/src/components/animatedcursor.vue","mtime":1572536223160},{"path":"/Users/francescamorini/projects/transition-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/francescamorini/projects/transition-module/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/francescamorini/projects/transition-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/francescamorini/projects/transition-module/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnOwppbXBvcnQgZW1pc3Npb25zRGF0YSBmcm9tICIuLi9hc3NldHMvZW1pc3Npb25zLmpzb24iOwppbXBvcnQgc3ViRW1pc3Npb25zIGZyb20gIi4uL2Fzc2V0cy9zdWJlbWlzc2lvbnMuanNvbiI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQW5pbWF0ZWRjdXJzb3InLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlbWlzc2lvbnM6IGVtaXNzaW9uc0RhdGEsCiAgICAgIHN1YmVtaXNzaW9uczogc3ViRW1pc3Npb25zLAogICAgICBpc01vdmU6IGZhbHNlLAogICAgICB4OiAwLAogICAgICB5OiAyNSwKICAgICAgd2lkdGg6IDEwMDAsCiAgICAgIGhlaWdodDogNjAwLAogICAgICBkYXRhOiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG1kOiBmdW5jdGlvbiBtZChldiwgdmFsKSB7CiAgICAgIGlmICh2YWwgPT09IDEpIHsKICAgICAgICB0aGlzLmlzTW92ZSA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KCiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMubW0pOwogICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5tdSk7CiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMudG0pOwogICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMubXUpOwogICAgfSwKICAgIG11OiBmdW5jdGlvbiBtdSgpIHsKICAgICAgdGhpcy5pc01vdmUgPSBmYWxzZTsKICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5tbSk7CiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMudG0pOwogICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMubXUpOwogICAgfSwKICAgIG1tOiBmdW5jdGlvbiBtbShldikgewogICAgICBpZiAodGhpcy5pc01vdmUpIHsKICAgICAgICB0aGlzLnggPSBldi5jbGllbnRYIC0gMzYwOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICB9LAogICAgdG06IGZ1bmN0aW9uIHRtKGV2KSB7CiAgICAgIGlmICh0aGlzLmlzTW92ZSkgewogICAgICAgIHRoaXMueCA9IGV2LnRvdWNoZXNbMF0uY2xpZW50WDsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgfSwKICAgIGRvdFNjYWxlOiBmdW5jdGlvbiBkb3RTY2FsZSgpIHsKICAgICAgdmFyIHBhcnNlRGF0ZSA9IGQzLnRpbWVQYXJzZSgnJVknKTsKICAgICAgdGhpcy5lbWlzc2lvbnMuZm9yRWFjaChmdW5jdGlvbiAoZCkgewogICAgICAgIGQuZGF0ZSA9IHBhcnNlRGF0ZShkLlllYXIpOwogICAgICB9KTsKICAgICAgdmFyIHggPSBkMy5zY2FsZVRpbWUoKS5kb21haW4oW2QzLm1pbih0aGlzLmVtaXNzaW9ucywgZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gZC5kYXRlOwogICAgICB9KSwgZDMubWF4KHRoaXMuZW1pc3Npb25zLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBkLmRhdGU7CiAgICAgIH0pXSkucmFuZ2VSb3VuZChbMCwgMTAwXSk7CiAgICAgIHZhciB5ID0gZDMuc2NhbGVMaW5lYXIoKS5kb21haW4oWzAsIDQwMDAwMDAwXSkucmFuZ2UoWzAsIDEwMDBdKTsKICAgICAgcmV0dXJuIHsKICAgICAgICB4OiB4LAogICAgICAgIHk6IHkKICAgICAgfTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBkb3RzOiBmdW5jdGlvbiBkb3RzKCkgewogICAgICB2YXIgZGF0YSA9IHRoaXMuc3ViZW1pc3Npb25zOwogICAgICB2YXIgc2NhbGUgPSB0aGlzLmRvdFNjYWxlKCk7IC8vIGNvbnNvbGUubG9nKGRhdGEpCgogICAgICB2YXIgZG90cyA9IFsnUHVibGljJywgJ0F1dG9wcm9kdWNlZCcsICdBdmlhdGlvbicsICdSb2FkJywgJ090aGVyJywgJ1NoaXBwaW5nJywgJ0NvbW1SZXMnLCAnQWdyaWN1bHR1cmUnLCAnQ29tYnVzdGlvbicsICdQcm9kdWN0aW9uJywgJ1NvbHZlbnRzJywgJ090aGVyUHJvYycsICdJbmRXYXN0ZSddOwogICAgICB2YXIgbmV3QXJlYXMgPSBkb3RzLm1hcChmdW5jdGlvbiAoaXRlbSwgaSkgewogICAgICAgIHZhciBzdW07CgogICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgaTsgbisrKSB7CiAgICAgICAgICBzdW0gPSBkYXRhLmtleTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBzY2FsZS55KHN1bSk7CiAgICAgIH0pOyAvLyBjb25zb2xlLmxvZyhuZXdBcmVhcykKCiAgICAgIHJldHVybiBuZXdBcmVhczsKICAgIH0KICB9Cn07"},{"version":3,"sources":["animatedcursor.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <g class=\"cursor\" @mousedown=\"md($event, 1)\" @touchstart=\"md($event,1)\">\n    <circle :cx='x' :cy='y' r=\"8\" fill='black'/>\n    <text class=\"label\" :x='x + 12' :y='y'>Year</text>\n    <text class=\"label\" :x='x + 12' :y='y + 14'>Emissions</text>\n    <line :x1='x' :x2='x' y1='0' :y2='height' stroke=\"black\"/>\n    <circle v-for='dot in dots' cx='4' cy='4' r=\"4\" fill='red'/>\n  </g>\n</template>\n\n<script>\nimport * as d3 from 'd3'\n\nimport emissionsData from '../assets/emissions.json'\nimport subEmissions from '../assets/subemissions.json'\n\nexport default {\n  name: 'Animatedcursor',\n  data () {\n    return {\n      emissions: emissionsData,\n      subemissions: subEmissions,\n      isMove: false,\n      x: 0,\n      y: 25,\n      width: 1000,\n      height: 600,\n      data: []\n    }\n  },\n  methods: {\n    md (ev, val) {\n      if (val === 1) {\n        this.isMove = true\n      } else { return null }\n      document.addEventListener('mousemove', this.mm)\n      document.addEventListener('mouseup', this.mu)\n      document.addEventListener('touchmove', this.tm)\n      document.addEventListener('touchend', this.mu)\n    },\n    mu () {\n      this.isMove = false\n      document.removeEventListener('mousemove', this.mm)\n      document.removeEventListener('touchmove', this.tm)\n      document.removeEventListener('touchend', this.mu)\n    },\n    mm (ev) {\n      if (this.isMove) {\n        this.x = ev.clientX - 360\n      } else { return null }\n    },\n    tm (ev) {\n      if (this.isMove) {\n        this.x = ev.touches[0].clientX\n      } else { return null }\n    },\n    dotScale () {\n      var parseDate = d3.timeParse('%Y')\n      this.emissions.forEach(function (d) {\n        d.date = parseDate(d.Year)\n      })\n      var x = d3\n        .scaleTime()\n        .domain([d3.min(this.emissions, d => d.date), d3.max(this.emissions, d => d.date)])\n        .rangeRound([0, 100])\n\n      var y = d3\n        .scaleLinear()\n        .domain([0, 40000000])\n        .range([0, 1000])\n\n      return {\n        x,\n        y\n      }\n    }\n  },\n  computed: {\n    dots () {\n      const data = this.subemissions\n      const scale = this.dotScale()\n      // console.log(data)\n      const dots = ['Public', 'Autoproduced', 'Aviation', 'Road', 'Other', 'Shipping', 'CommRes', 'Agriculture', 'Combustion', 'Production', 'Solvents', 'OtherProc', 'IndWaste']\n\n      const newAreas = dots.map(function (item, i) {\n        let sum\n        for (let n = 0; n < i; n++) {\n          sum = data.key\n        }\n        return scale.y(sum)\n      })\n      // console.log(newAreas)\n      return newAreas\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"scss\">\nsvg {\n  position: absolute;\n}\n</style>\n"],"sourceRoot":"src/components"}]}