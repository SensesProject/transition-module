{"remainingRequest":"/Users/francescamorini/projects/senses/node_modules/babel-loader/lib/index.js!/Users/francescamorini/projects/senses/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/francescamorini/projects/senses/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/francescamorini/projects/senses/node_modules/library/src/components/IntersectionObserverFracture.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/francescamorini/projects/senses/node_modules/library/src/components/IntersectionObserverFracture.vue","mtime":1575047336601},{"path":"/Users/francescamorini/projects/senses/node_modules/cache-loader/dist/cjs.js","mtime":1575047334698},{"path":"/Users/francescamorini/projects/senses/node_modules/babel-loader/lib/index.js","mtime":1575047334610},{"path":"/Users/francescamorini/projects/senses/node_modules/cache-loader/dist/cjs.js","mtime":1575047334698},{"path":"/Users/francescamorini/projects/senses/node_modules/vue-loader/lib/index.js","mtime":1575047337893}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdJbnRlcnNlY3Rpb25PYnNlcnZlckZyYWN0dXJlJywKICBkb2NzOiAnVGhpcyBjb21wb25lbnQgaXMgZGVzaWduZWQgdG8gYmUgdXNlZCBpbnNpZGUgdGhlIHRleHQgc2xvdCBvZiB0aGUgTGF5b3V0U2Nyb2xseXRlbGxpbmcgY29tcG9uZW50LiBXaGlsZSBpdCBpbnRlcnNlY3RzIHdpdGggdGhlIHRoZSByZWN0YW5nbGUgZGVmaW5lZCBhcyByb290TWFyZ2luIGluIG9ic2VydmVyT3B0aW9ucyBpdCB3aWxsIGVtaXQgdGhlIHNjcm9sbC1wcm9ncmVzcyBhcyBhIHJhbmdlIGJldHdlZW4gdGhlIHByb3BlcnR5IHN0ZXAgYW5kIHN0ZXAgKyBzdGVwU2l6ZS4nLAogIHByb3BzOiB7CiAgICBzdGVwOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMCwKICAgICAgZG9jczogJ0xvd2VyIGJvdW5kIG9mIHRoZSB2YWx1ZXMgZW1pdHRlZCB3aGlsZSBpbnRlcnNlY3RpbmcnCiAgICB9LAogICAgc3RlcFNpemU6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAxLAogICAgICBkb2NzOiAnU2l6ZSBvZiB0aGUgc3RlcC4gc3RlcCArIHN0ZXBTaXplIGVxdWFscyB0aGUgdXBwZXIgYm91bmQgb2YgdGhlIHZhbHVlcyBlbWl0dGVkIHdoaWxlIGludGVyc2VjdGluZycKICAgIH0sCiAgICBvYnNlcnZlck9wdGlvbnM6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgcm9vdE1hcmdpbjogIi0iLmNvbmNhdCgwLjUgKiAxMDAsICIlIDAlIC0iKS5jb25jYXQoMTAwIC0gMC41ICogMTAwLCAiJSAwJSIpCiAgICAgICAgfTsKICAgICAgfSwKICAgICAgZG9jczogJ09wdGlvbnMgcGFzc2VkIHRvIHRoZSBpbnRlcnNlY3Rpb24gb2JzZXJ2ZXIuIOKGkiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSW50ZXJzZWN0aW9uX09ic2VydmVyX0FQSScKICAgIH0sCiAgICBub1N0eWxpbmc6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICAgIGRvY3M6ICdTZXR0aW5nIHRoaXMgdG8gZmFsc2UgZGlzYWJsZXMgdGhlIGRlZmF1bHQgc3R5bGluZyAoZS5nLiwgYmFja2dyb3VuZC1jb2xvciwgYm9yZGVyLCDigKYpJwogICAgfSwKICAgIGFsaWduOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2NlbnRlcicsCiAgICAgIGRvY3M6ICJob3Jpem9udGFsbHkgcG9zaXRpb24gdGhlIGNvbnRlbnQsIGVpdGhlciAnbGVmdCcsICdjZW50ZXInLCBvciAncmlnaHQnLiBoYXMgbm8gZWZmZWN0IGlmIG5vU3R5bGluZyBpcyBzZXQgdG8gdHJ1ZS4iCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWN0aXZlOiBmYWxzZQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMuJGVtaXQoJ3N0ZXAnLCAnc3RhcnQnKTsKICAgIHZhciBzdGVwID0gdGhpcy5zdGVwLAogICAgICAgICRyZWZzID0gdGhpcy4kcmVmcywKICAgICAgICBvYnNlcnZlck9wdGlvbnMgPSB0aGlzLm9ic2VydmVyT3B0aW9uczsKICAgIHZhciBvYnNlcnZlciA9IG5ldyB3aW5kb3cuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKGVudHJpZXMpIHsKICAgICAgaWYgKGVudHJpZXMuZmlsdGVyKGZ1bmN0aW9uIChlbnRyeSkgewogICAgICAgIHJldHVybiBlbnRyeS5pc0ludGVyc2VjdGluZzsKICAgICAgfSkubGVuZ3RoIDwgMSkgewogICAgICAgIF90aGlzLmFjdGl2ZSA9IGZhbHNlOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgX3RoaXMuJHBhcmVudC4kZW1pdCgnc3RlcCcsIHN0ZXApOwoKICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKF90aGlzLndhdGNoKTsKICAgICAgX3RoaXMuYWN0aXZlID0gdHJ1ZTsKICAgIH0sIG9ic2VydmVyT3B0aW9ucyk7CiAgICBvYnNlcnZlci5vYnNlcnZlKCRyZWZzLmludGVyc2VjdCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICB3YXRjaDogZnVuY3Rpb24gd2F0Y2goKSB7CiAgICAgIHZhciBhY3RpdmUgPSB0aGlzLmFjdGl2ZSwKICAgICAgICAgICRyZWZzID0gdGhpcy4kcmVmcywKICAgICAgICAgIHN0ZXAgPSB0aGlzLnN0ZXAsCiAgICAgICAgICBzdGVwU2l6ZSA9IHRoaXMuc3RlcFNpemU7CiAgICAgIHZhciByZWN0ID0gJHJlZnMuaW50ZXJzZWN0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICB2YXIgb2Zmc2V0ID0gaW5uZXJIZWlnaHQgKiAwLjU7CiAgICAgIHZhciBzY3JvbGwgPSBNYXRoLm1heChNYXRoLm1pbigob2Zmc2V0IC0gcmVjdC50b3ApIC8gcmVjdC5oZWlnaHQsIDEpLCAwKTsKICAgICAgdGhpcy4kcGFyZW50LiRlbWl0KCdzdGVwJywgc3RlcCArIHNjcm9sbCAqIHN0ZXBTaXplKTsKICAgICAgaWYgKGFjdGl2ZSkgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMud2F0Y2gpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["IntersectionObserverFracture.vue"],"names":[],"mappings":";;;;;;;;;;;;AAWA,eAAA;AACA,EAAA,IAAA,EAAA,8BADA;AAEA,EAAA,IAAA,EAAA,kRAFA;AAGA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA,CAFA;AAGA,MAAA,IAAA,EAAA;AAHA,KADA;AAMA,IAAA,QAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA,CAFA;AAGA,MAAA,IAAA,EAAA;AAHA,KANA;AAWA,IAAA,eAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAFA,sBAEA;AACA,eAAA;AACA,UAAA,UAAA,aAAA,MAAA,GAAA,mBAAA,MAAA,MAAA,GAAA;AADA,SAAA;AAGA,OANA;AAOA,MAAA,IAAA,EAAA;AAPA,KAXA;AAoBA,IAAA,SAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA,KAFA;AAGA,MAAA,IAAA,EAAA;AAHA,KApBA;AAyBA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA,QAFA;AAGA,MAAA,IAAA;AAHA;AAzBA,GAHA;AAkCA,EAAA,IAlCA,kBAkCA;AACA,WAAA;AACA,MAAA,MAAA,EAAA;AADA,KAAA;AAGA,GAtCA;AAuCA,EAAA,OAvCA,qBAuCA;AAAA;;AACA,SAAA,KAAA,CAAA,MAAA,EAAA,OAAA;AADA,QAEA,IAFA,GAEA,IAFA,CAEA,IAFA;AAAA,QAEA,KAFA,GAEA,IAFA,CAEA,KAFA;AAAA,QAEA,eAFA,GAEA,IAFA,CAEA,eAFA;AAGA,QAAA,QAAA,GAAA,IAAA,MAAA,CAAA,oBAAA,CAAA,UAAA,OAAA,EAAA;AACA,UAAA,OAAA,CAAA,MAAA,CAAA,UAAA,KAAA;AAAA,eAAA,KAAA,CAAA,cAAA;AAAA,OAAA,EAAA,MAAA,GAAA,CAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA,GAAA,KAAA;AACA;AACA;;AACA,MAAA,KAAA,CAAA,OAAA,CAAA,KAAA,CAAA,MAAA,EAAA,IAAA;;AACA,MAAA,qBAAA,CAAA,KAAA,CAAA,KAAA,CAAA;AACA,MAAA,KAAA,CAAA,MAAA,GAAA,IAAA;AACA,KARA,EAQA,eARA,CAAA;AAUA,IAAA,QAAA,CAAA,OAAA,CAAA,KAAA,CAAA,SAAA;AACA,GArDA;AAsDA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AAAA,UACA,MADA,GACA,IADA,CACA,MADA;AAAA,UACA,KADA,GACA,IADA,CACA,KADA;AAAA,UACA,IADA,GACA,IADA,CACA,IADA;AAAA,UACA,QADA,GACA,IADA,CACA,QADA;AAEA,UAAA,IAAA,GAAA,KAAA,CAAA,SAAA,CAAA,qBAAA,EAAA;AACA,UAAA,MAAA,GAAA,WAAA,GAAA,GAAA;AACA,UAAA,MAAA,GAAA,IAAA,CAAA,GAAA,CAAA,IAAA,CAAA,GAAA,CAAA,CAAA,MAAA,GAAA,IAAA,CAAA,GAAA,IAAA,IAAA,CAAA,MAAA,EAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,WAAA,OAAA,CAAA,KAAA,CAAA,MAAA,EAAA,IAAA,GAAA,MAAA,GAAA,QAAA;AACA,UAAA,MAAA,EAAA,qBAAA,CAAA,KAAA,KAAA,CAAA;AACA;AARA;AAtDA,CAAA","sourcesContent":["<template>\n  <div class=\"intersection-observer intersection-observer-fracture\" ref=\"intersect\" :class=\"{ default: !noStyling }\">\n    <div :class=\"[{ default: !noStyling, active }, align]\">\n      <slot>\n        <h2>Step {{ step }} – {{ step + stepSize }}</h2>\n      </slot>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'IntersectionObserverFracture',\n  docs: 'This component is designed to be used inside the text slot of the LayoutScrollytelling component. While it intersects with the the rectangle defined as rootMargin in observerOptions it will emit the scroll-progress as a range between the property step and step + stepSize.',\n  props: {\n    step: {\n      type: Number,\n      default: 0,\n      docs: 'Lower bound of the values emitted while intersecting'\n    },\n    stepSize: {\n      type: Number,\n      default: 1,\n      docs: 'Size of the step. step + stepSize equals the upper bound of the values emitted while intersecting'\n    },\n    observerOptions: {\n      type: Object,\n      default () {\n        return {\n          rootMargin: `-${0.5 * 100}% 0% -${100 - 0.5 * 100}% 0%`\n        }\n      },\n      docs: 'Options passed to the intersection observer. → https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API'\n    },\n    noStyling: {\n      type: Boolean,\n      default: false,\n      docs: 'Setting this to false disables the default styling (e.g., background-color, border, …)'\n    },\n    align: {\n      type: String,\n      default: 'center',\n      docs: `horizontally position the content, either 'left', 'center', or 'right'. has no effect if noStyling is set to true.`\n    }\n  },\n  data () {\n    return {\n      active: false\n    }\n  },\n  mounted () {\n    this.$emit('step', 'start')\n    const { step, $refs, observerOptions } = this\n    const observer = new window.IntersectionObserver(entries => {\n      if (entries.filter(entry => entry.isIntersecting).length < 1) {\n        this.active = false\n        return\n      }\n      this.$parent.$emit('step', step)\n      requestAnimationFrame(this.watch)\n      this.active = true\n    }, observerOptions)\n\n    observer.observe($refs.intersect)\n  },\n  methods: {\n    watch () {\n      const { active, $refs, step, stepSize } = this\n      const rect = $refs.intersect.getBoundingClientRect()\n      const offset = innerHeight * 0.5\n      const scroll = Math.max(Math.min((offset - rect.top) / rect.height, 1), 0)\n      this.$parent.$emit('step', step + scroll * stepSize)\n      if (active) requestAnimationFrame(this.watch)\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import \"../style/global.scss\";\n\n.intersection-observer {\n  display: flex;\n  flex-direction: column;\n  .default {\n    pointer-events: all;\n    hyphens: auto;\n    max-width: 460px;\n    background: transparentize($color-white, 0.02);\n    padding: $spacing / 2;\n\n    @supports ((-webkit-backdrop-filter: saturate(180%) blur(20px)) or(backdrop-filter: saturate(180%) blur(20px))) {\n      background: transparentize($color-white, 0.15);\n      -webkit-backdrop-filter: saturate(180%) blur(10px);\n      backdrop-filter:saturate(180%) blur(10px)\n    }\n\n    &.left {\n      align-self: flex-start;\n    }\n\n    &.center {\n      align-self: center;\n    }\n\n    &.right {\n      align-self: flex-end;\n    }\n  }\n\n  // &.default {\n  //   padding: 80vh 0 50vh;\n  // }\n  // + .default {\n  //   padding: 30vh 0 50vh;\n  // }\n}\n</style>\n"],"sourceRoot":"node_modules/library/src/components"}]}