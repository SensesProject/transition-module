{"remainingRequest":"/Users/francescamorini/projects/transition-module-senses/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/francescamorini/projects/transition-module-senses/src/components/subcomponents/Dragline.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/francescamorini/projects/transition-module-senses/src/components/subcomponents/Dragline.vue","mtime":1574420607631},{"path":"/Users/francescamorini/projects/transition-module-senses/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/francescamorini/projects/transition-module-senses/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/francescamorini/projects/transition-module-senses/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/francescamorini/projects/transition-module-senses/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRHJhZ2xpbmUnLAogIHByb3BzOiBbJ3dpZHRoJywgJ2hlaWdodCcsICdzY2FsZXMnLCAnZGF0YScsICdtYXJnaW4nXSwKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIHg6IDEwCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgeWVhcjogZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5zY2FsZXMueC5pbnZlcnQodGhpcy54KSkKICAgIH0sCiAgICBzZWN0b3JzOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLmRhdGEubWFwKGQgPT4gewogICAgICAgIGNvbnN0IGRhdGEgPSBkLmRhdGEuZmluZChlID0+IGUuZGF0YS5ZZWFyID09PSB0aGlzLnllYXIpCiAgICAgICAgY29uc3QgeyBrZXkgfSA9IGQuZGF0YQogICAgICAgIHJldHVybiB7CiAgICAgICAgICBrZXksCiAgICAgICAgICBkYXRhLAogICAgICAgICAgdmFsdWU6IGRhdGEuZGF0YVtrZXldCiAgICAgICAgfQogICAgICB9KQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgY2xpY2tEcmFnbGluZTogZnVuY3Rpb24gKGUpIHsKICAgICAgdGhpcy54ID0gZS5sYXllclggLSB0aGlzLm1hcmdpbi5sZWZ0CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubWFyZ2luLmxlZnQsIGUubGF5ZXJYKQogICAgfQogIH0KfQo="},{"version":3,"sources":["Dragline.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Dragline.vue","sourceRoot":"src/components/subcomponents","sourcesContent":["<template>\n  <g class=\"dragline\">\n    <line :x1=\"x\" y1=\"0\" :x2=\"x\" :y2=\"height\" stroke=\"#000\" />\n    <rect\n      x=\"0\"\n      y=\"0\"\n      :width=\"width\"\n      :height=\"height\"\n      class=\"draglineRect\"\n      @mousemove=\"clickDragline\"\n    />\n    <g\n      v-for=\"sector of sectors\"\n      :key=\"sector.key\"\n      :transform=\"'translate(' + x + ',' + scales.y(sector.data[1]) + ')'\"\n    >\n      <text>{{ sector.value }},{{ sector.key }}</text>\n      <circle r=\"3\" />\n    </g>\n  </g>\n</template>\n\n<script>\nexport default {\n  name: 'Dragline',\n  props: ['width', 'height', 'scales', 'data', 'margin'],\n  data () {\n    return {\n      x: 10\n    }\n  },\n  computed: {\n    year: function () {\n      return parseInt(this.scales.x.invert(this.x))\n    },\n    sectors: function () {\n      return this.data.map(d => {\n        const data = d.data.find(e => e.data.Year === this.year)\n        const { key } = d.data\n        return {\n          key,\n          data,\n          value: data.data[key]\n        }\n      })\n    }\n  },\n  methods: {\n    clickDragline: function (e) {\n      this.x = e.layerX - this.margin.left\n      // console.log(this.margin.left, e.layerX)\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.draglineRect {\n  fill: none;\n  pointer-events: all;\n}\n\ncircle {\n  fill: #ffffff;\n  stroke: #000;\n}\n\ntext {\n  font-size: 11px;\n}\n\nrect {\n  fill: white;\n  opacity: 0.5;\n}\n</style>\n"]}]}