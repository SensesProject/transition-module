{"remainingRequest":"/Users/francescamorini/projects/senses/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/francescamorini/projects/senses/node_modules/library/src/components/IntersectionObserverFracture.vue?vue&type=style&index=0&id=a0bd0378&scoped=true&lang=scss&","dependencies":[{"path":"/Users/francescamorini/projects/senses/node_modules/library/src/components/IntersectionObserverFracture.vue","mtime":1575047514659},{"path":"/Users/francescamorini/projects/senses/node_modules/css-loader/dist/cjs.js","mtime":1575047513267},{"path":"/Users/francescamorini/projects/senses/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1575047516506},{"path":"/Users/francescamorini/projects/senses/node_modules/postcss-loader/src/index.js","mtime":1575047515169},{"path":"/Users/francescamorini/projects/senses/node_modules/sass-loader/dist/cjs.js","mtime":1575047516128},{"path":"/Users/francescamorini/projects/senses/node_modules/cache-loader/dist/cjs.js","mtime":1575047512487},{"path":"/Users/francescamorini/projects/senses/node_modules/vue-loader/lib/index.js","mtime":1575047516506}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCkBpbXBvcnQgIi4uL3N0eWxlL2dsb2JhbC5zY3NzIjsKCi5pbnRlcnNlY3Rpb24tb2JzZXJ2ZXIgewogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAuZGVmYXVsdCB7CiAgICBwb2ludGVyLWV2ZW50czogYWxsOwogICAgaHlwaGVuczogYXV0bzsKICAgIG1heC13aWR0aDogNDYwcHg7CiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudGl6ZSgkY29sb3Itd2hpdGUsIDAuMDIpOwogICAgcGFkZGluZzogJHNwYWNpbmcgLyAyOwoKICAgIEBzdXBwb3J0cyAoKC13ZWJraXQtYmFja2Ryb3AtZmlsdGVyOiBzYXR1cmF0ZSgxODAlKSBibHVyKDIwcHgpKSBvcihiYWNrZHJvcC1maWx0ZXI6IHNhdHVyYXRlKDE4MCUpIGJsdXIoMjBweCkpKSB7CiAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50aXplKCRjb2xvci13aGl0ZSwgMC4xNSk7CiAgICAgIC13ZWJraXQtYmFja2Ryb3AtZmlsdGVyOiBzYXR1cmF0ZSgxODAlKSBibHVyKDEwcHgpOwogICAgICBiYWNrZHJvcC1maWx0ZXI6c2F0dXJhdGUoMTgwJSkgYmx1cigxMHB4KQogICAgfQoKICAgICYubGVmdCB7CiAgICAgIGFsaWduLXNlbGY6IGZsZXgtc3RhcnQ7CiAgICB9CgogICAgJi5jZW50ZXIgewogICAgICBhbGlnbi1zZWxmOiBjZW50ZXI7CiAgICB9CgogICAgJi5yaWdodCB7CiAgICAgIGFsaWduLXNlbGY6IGZsZXgtZW5kOwogICAgfQogIH0KCiAgLy8gJi5kZWZhdWx0IHsKICAvLyAgIHBhZGRpbmc6IDgwdmggMCA1MHZoOwogIC8vIH0KICAvLyArIC5kZWZhdWx0IHsKICAvLyAgIHBhZGRpbmc6IDMwdmggMCA1MHZoOwogIC8vIH0KfQo="},{"version":3,"sources":["IntersectionObserverFracture.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"IntersectionObserverFracture.vue","sourceRoot":"node_modules/library/src/components","sourcesContent":["<template>\n  <div class=\"intersection-observer intersection-observer-fracture\" ref=\"intersect\" :class=\"{ default: !noStyling }\">\n    <div :class=\"[{ default: !noStyling, active }, align]\">\n      <slot>\n        <h2>Step {{ step }} – {{ step + stepSize }}</h2>\n      </slot>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'IntersectionObserverFracture',\n  docs: 'This component is designed to be used inside the text slot of the LayoutScrollytelling component. While it intersects with the the rectangle defined as rootMargin in observerOptions it will emit the scroll-progress as a range between the property step and step + stepSize.',\n  props: {\n    step: {\n      type: Number,\n      default: 0,\n      docs: 'Lower bound of the values emitted while intersecting'\n    },\n    stepSize: {\n      type: Number,\n      default: 1,\n      docs: 'Size of the step. step + stepSize equals the upper bound of the values emitted while intersecting'\n    },\n    observerOptions: {\n      type: Object,\n      default () {\n        return {\n          rootMargin: `-${0.5 * 100}% 0% -${100 - 0.5 * 100}% 0%`\n        }\n      },\n      docs: 'Options passed to the intersection observer. → https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API'\n    },\n    noStyling: {\n      type: Boolean,\n      default: false,\n      docs: 'Setting this to false disables the default styling (e.g., background-color, border, …)'\n    },\n    align: {\n      type: String,\n      default: 'center',\n      docs: `horizontally position the content, either 'left', 'center', or 'right'. has no effect if noStyling is set to true.`\n    }\n  },\n  data () {\n    return {\n      active: false\n    }\n  },\n  mounted () {\n    this.$emit('step', 'start')\n    const { step, $refs, observerOptions } = this\n    const observer = new window.IntersectionObserver(entries => {\n      if (entries.filter(entry => entry.isIntersecting).length < 1) {\n        this.active = false\n        return\n      }\n      this.$parent.$emit('step', step)\n      requestAnimationFrame(this.watch)\n      this.active = true\n    }, observerOptions)\n\n    observer.observe($refs.intersect)\n  },\n  methods: {\n    watch () {\n      const { active, $refs, step, stepSize } = this\n      const rect = $refs.intersect.getBoundingClientRect()\n      const offset = innerHeight * 0.5\n      const scroll = Math.max(Math.min((offset - rect.top) / rect.height, 1), 0)\n      this.$parent.$emit('step', step + scroll * stepSize)\n      if (active) requestAnimationFrame(this.watch)\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import \"../style/global.scss\";\n\n.intersection-observer {\n  display: flex;\n  flex-direction: column;\n  .default {\n    pointer-events: all;\n    hyphens: auto;\n    max-width: 460px;\n    background: transparentize($color-white, 0.02);\n    padding: $spacing / 2;\n\n    @supports ((-webkit-backdrop-filter: saturate(180%) blur(20px)) or(backdrop-filter: saturate(180%) blur(20px))) {\n      background: transparentize($color-white, 0.15);\n      -webkit-backdrop-filter: saturate(180%) blur(10px);\n      backdrop-filter:saturate(180%) blur(10px)\n    }\n\n    &.left {\n      align-self: flex-start;\n    }\n\n    &.center {\n      align-self: center;\n    }\n\n    &.right {\n      align-self: flex-end;\n    }\n  }\n\n  // &.default {\n  //   padding: 80vh 0 50vh;\n  // }\n  // + .default {\n  //   padding: 30vh 0 50vh;\n  // }\n}\n</style>\n"]}]}